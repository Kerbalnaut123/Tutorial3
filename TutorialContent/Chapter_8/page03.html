<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<title>GameMaker Tutorial</title>
		<meta http-equiv="X-UA-Compatible" content="IE=9" />
		<link rel="stylesheet" href="../style.css" type="text/css" media="screen" title="style" charset="utf-8"/>
		<script type="text/javascript">
			var changePage = function(){
				var newPage = document.getElementById("page-select");
				//alert(newPage.value);
				window.location.replace(newPage.value);
				}
		</script>
	</head>
<body>

<h2>Tutorial - My First Game</h2>
	<div class="head">
		<select id="page-select" onChange="changePage()">
			<optgroup label="Chapter 8 - Spawners">
				<option style="font-weight:bold;" value="page03.html">The Spawn Controller</option>
				<option value="page04.html">Summary</option>
				<optgroup label="----------------------------------------">
					<option value="page01.html">Game Room Setup</option>
					<option value="page02.html">The Enemy Spawner</option>
				</optgroup>
			</optgroup>
				<option style="font-weight:bold;" value="../index.html">Index</option>
				<option style="font-weight:bold;" value="../Chapter_1/page01.html">Chapter 1 - Moving</option>			
				<option style="font-weight:bold;" value="../Chapter_2/page01.html">Chapter 2 - Shooting</option>
				<option style="font-weight:bold;" value="../Chapter_3/page01.html">Chapter 3 - Enemies</option>
				<option style="font-weight:bold;" value="../Chapter_4/page01.html">Chapter 4 - Tiles And Views </option>
				<option style="font-weight:bold;" value="../Chapter_5/page01.html">Chapter 5 - Scoring</option>
				<option style="font-weight:bold;" value="../Chapter_6/page01.html">Chapter 6 - Sound</option>
				<option style="font-weight:bold;" value="../Chapter_7/page01.html">Chapter 7 - Changing Rooms</option>
		  </optgroup>
		</select>
	</div>
<div class="body-scroll">

<p>
We have our enemy spawn object now, but we don't have anything to re-spawn the enemies when there are none left, so for that we are going to create a controller object called <i>obj_spawner</i>. Go ahead and create a new object now and give it that name. You don't need to assign a sprite to it, but you will need to open up the <b>Create Event</b>. We are going to use <i>alarms</i> in this object to create instances of our enemy spawn object within the room, so to start with add the following Actions into the <b>Create Event</b>:

<img class="center" src="03_02_CreateVariable.png" alt="Create Spawn Timer">

<p>
<p>
The first action sets a variable to control the speed at which enemies will spawn. The next action sets the alarm [0] to the value of <tt>spawn_rate</tt>. But what <i>are</i> alarms? They are special events that will count down every game frame until they reach 0, at which time they will perform the action code added into the event in the object. So, in our actions we are setting the alarm[0] to 60, meaning that it will subtract 1 from 60 every game frame until it reaches 0 at which point any code in the alarm[0] event will run. You have 12 alarm events and they can also be accessed using the built in variable array <tt>alarm[0 .. 11]</tt>.

<div class="note">
	<b>NOTE</b>: An alarm does not stop on 0, but will actually count down to -1. So the event runs when the alarm reaches 0 and then subtracts one more from the alarm to get to -1. This is useful to know as it means you check to see if an alarm has run or not by checking to see if it is less than 0.
</div>

<p>
You need to add the corresponding alarm event now, so since we are using <tt>alarm[0]</tt> you need to add <b>Alarm Event 0</b>:

<img class="center" src="03_01_AlarmEvent.png" alt="Alarm Event 0">

<p>
This event will only trigger when the alarm[0] array has counted down to 0 and in it we want to add the following:

<img class="center" src="03_03_ResetAlarm.png" alt="Reset Spawn TImer">

<p>
<p>
Here we are creating an enemy spawn object at a random position within the room and on the layer we created at the start of this chapter. We then reset the alarm to the spawn_rate value so that it will count down again and spawn another one. In this way, every 60 frames a new enemy will be created for the player to shoot at.

<p>
You can close this object now and go back to the game room. We had added in enemy spawn objects but we don't need them anymore so select them and delete them (<img style="vertical-align:middle" src="../Icon_CTRL.png"> + <img style="vertical-align:middle" src="../Icon_LMB.png"> to select, and <img style="vertical-align:middle" src="../Icon_Backspace.png"> to delete). Now drag an instance of the controller object <i>obj_spawner</i> into the room and run the game.

<p>
<img class="center" src="03_02_FinalSpawn.gif" alt="Enemies Spawning In Game">

<p>
<br>
</p>
<p>

  </div>

  <div class="footer">
    <div class="buttons">
		<div class="clear">
			<div style="float:left">
				<a href="page02.html"  class="prev">
				<div id="button-prev"></div>
				</a>
			</div>
			<div style="float:right">
				<a href="page04.html#LastPage" class="next">
					<div id="button-next"></div>
				</a>
			</div>
		</div>
    </div>
    <h5>&copy; Copyright YoYo Games Ltd. 2019 All Rights Reserved</h5>
  </div>

</body>
</html>